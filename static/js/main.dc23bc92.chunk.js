(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(17),i=n.n(a),c=n(43),o=n.n(c),d=(n(50),n(6)),s=n(5),r=n(15),l=(n(51),n(52),n(28)),u=n(29),j=n(10);var b=function(e){var t=Object(a.useState)(null),n=Object(r.a)(t,2),i=n[0],c=n[1];return Object(j.jsxs)("div",{id:"topTab",children:[Object(j.jsx)("div",{id:"topTabThird",children:Object(j.jsxs)("select",{id:"sortParameterSelector",value:e.sortParameter,disabled:e.data.length<=1||e.appMode===m.LOADING_MODE,onChange:function(t){return e.setSortParameter(t.target.value)},children:[Object(j.jsx)("option",{value:"taskName asc",children:"Name \u2b06"}),Object(j.jsx)("option",{value:"taskName desc",children:"Name \u2b07"}),Object(j.jsx)("option",{value:"created asc",children:"Date \u2b06"}),Object(j.jsx)("option",{value:"created desc",children:"Date \u2b07"}),Object(j.jsx)("option",{value:"priorityLevel asc",children:"Priority \u2b06"}),Object(j.jsx)("option",{value:"priorityLevel desc",children:"Priority \u2b07"})]})}),Object(j.jsx)("div",{id:"topTabThird",children:Object(j.jsx)("h1",{id:"title",children:"To-Do"})}),Object(j.jsx)("div",{id:"topTabThird",children:e.appMode===m.EDIT_MODE?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{id:"cancelEdits",onClick:function(){e.onCancelEdits(i),e.setAppMode(m.DEFAULT_MODE)},children:Object(j.jsx)(l.a,{icon:u.e})}),Object(j.jsx)("button",{id:"saveEdits",onClick:function(){return e.setAppMode(m.DEFAULT_MODE)},children:Object(j.jsx)(l.a,{icon:u.c})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{id:"editButton",onClick:function(){e.setAppMode(m.EDIT_MODE),c(e.data)},disabled:e.data.length<1||e.appMode!==m.DEFAULT_MODE,children:Object(j.jsx)(l.a,{icon:u.a})}),Object(j.jsx)("button",{id:"addItem",onClick:function(){return e.setAppMode(m.ADD_MODE)},disabled:e.appMode!==m.DEFAULT_MODE,children:Object(j.jsx)(l.a,{icon:u.b})})]})})]})};n(58),n(59);var p=function(e){return Object(j.jsx)("li",{className:"listItem",children:Object(j.jsxs)("label",{className:"taskLabel",children:[Object(j.jsx)("input",{className:"checkbox",type:"checkbox",checked:e.task.isChecked,disabled:e.appMode===m.EDIT_MODE,onChange:function(t){return e.onTaskChanged(e.task.id,"isChecked",t.target.checked)}}),Object(j.jsx)("div",{className:"taskContent",children:e.appMode===m.EDIT_MODE?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{className:"editInput",type:"text",value:e.task.taskName,onChange:function(t){return e.onTaskChanged(e.task.id,"taskName",t.target.value)}}),Object(j.jsxs)("select",{className:"prioritySelector",value:e.task.priorityLevel,onChange:function(t){return e.onTaskChanged(e.task.id,"priorityLevel",parseInt(t.target.value))},children:[Object(j.jsx)("option",{value:"1",children:"!"}),Object(j.jsx)("option",{value:"2",children:"!!"}),Object(j.jsx)("option",{value:"3",children:"!!!"})]}),Object(j.jsx)("button",{className:"deleteButton",onClick:function(){return e.onTasksDeleted([e.task.id])},children:Object(j.jsx)(l.a,{icon:u.d,size:"xs"})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"taskName",children:e.task.taskName}),Object(j.jsx)("span",{className:(t=e.task.priorityLevel,1===t?"priorityLevel low":2===t?"priorityLevel medium":"priorityLevel high"),children:"!".repeat(e.task.priorityLevel)})]})})]})});var t};var O=function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.filter((function(t){return e.tasksShowing===v.ALL||e.tasksShowing===v.UNCOMPLETED&&!t.isChecked}));return Object(j.jsx)("ul",{id:"itemList",children:e.appMode===m.LOADING_MODE?Object(j.jsx)("div",{id:"loader"}):Object(j.jsx)(j.Fragment,{children:n.length>0?n.map((function(t){return Object(j.jsx)(p,{task:t,appMode:e.appMode,onTaskChanged:e.onTaskChanged,onTasksDeleted:e.onTasksDeleted},t.id)})):Object(j.jsx)("li",{id:"noItems",children:Object(j.jsx)("h3",{children:e.appMode===m.EDIT_MODE?"No tasks to edit.":"You have completed all your tasks, woohoo!"})},"1")})})};n(60);var h=function(e){var t=Object(a.useState)(null),n=Object(r.a)(t,2),i=n[0],c=n[1];function o(e){return e>1?e+" tasks":e+" task"}var d=Object(j.jsxs)("div",{id:"deleteButtonContainer",children:[null===i?Object(j.jsx)("button",{type:"button",id:"deleteCompleted",disabled:e.tasksShowing===v.UNCOMPLETED||0===e.data.filter((function(e){return e.isChecked})).length,onClick:function(){return c("completed")},children:" Delete All Completed"}):Object(j.jsx)("button",{type:"button",id:"cancel",onClick:function(){return c(null)},children:" Cancel"}),null===i?Object(j.jsx)("button",{type:"button",id:"deleteAll",disabled:0===e.data.length,onClick:function(){c("all")},children:" Delete All"}):Object(j.jsxs)("button",{type:"button",id:"confirm",onClick:function(){e.onTasksDeleted("all"===i?e.data.map((function(e){return e.id})):e.data.filter((function(e){return e.isChecked})).map((function(e){return e.id}))),c(null)},children:[" Delete ",o("all"===i?e.data.length:e.data.filter((function(e){return e.isChecked})).length)]})]}),s=Object(j.jsxs)("div",{id:"switcherContainer",children:[Object(j.jsx)("button",{type:"button",id:"showAll",disabled:e.tasksShowing===v.ALL,onClick:function(){return e.setTasksShowing(v.ALL)},children:" All"}),Object(j.jsx)("button",{type:"button",id:"showUncompleted",disabled:e.tasksShowing===v.UNCOMPLETED,onClick:function(){return e.setTasksShowing(v.UNCOMPLETED)},children:" Uncompleted"})]});return Object(j.jsx)("div",{id:"footer",children:e.appMode===m.EDIT_MODE?d:s})};n(61);var k=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(1),d=Object(r.a)(o,2),s=d[0],l=d[1];return Object(j.jsx)("div",{id:"createPopUpBackground",className:e.appMode===m.ADD_MODE?"":"hidden",children:Object(j.jsxs)("div",{id:"createPopUp",children:[Object(j.jsxs)("div",{id:"createHeader",children:[Object(j.jsx)("button",{id:"closeCreate",onClick:function(){c(""),l(1),e.setAppMode(m.DEFAULT_MODE)},children:"X"}),Object(j.jsx)("h2",{children:" New Task "}),Object(j.jsx)("button",{children:"X"})]}),Object(j.jsxs)("form",{id:"createForm",onSubmit:function(t){t.preventDefault(),e.onItemAdded(i,s),c(""),l(1),e.setAppMode(m.DEFAULT_MODE)},children:[Object(j.jsx)("input",{id:"taskName",type:"text",value:i,onChange:function(e){return c(e.target.value)},autoFocus:!0}),Object(j.jsxs)("div",{id:"prioritySelector",children:[Object(j.jsx)("button",{className:"priorityButton",type:"button",id:"low",disabled:1===s,onClick:function(){return l(1)},children:"Low!"}),Object(j.jsx)("button",{className:"priorityButton",type:"button",id:"medium",disabled:2===s,onClick:function(){return l(2)},children:"Medium!!"}),Object(j.jsx)("button",{className:"priorityButton",type:"button",id:"high",disabled:3===s,onClick:function(){return l(3)},children:"High!!!"})]}),Object(j.jsx)("button",{id:"addTask",type:"submit",disabled:0===i.length,children:"Add Task"})]})]})})};n(62);var x=function(e){return Object(j.jsx)("div",{id:"errorPopUpBackground",className:e.error?"":"hidden",children:Object(j.jsxs)("div",{id:"errorPopUp",children:[Object(j.jsxs)("div",{id:"errorHeader",children:[Object(j.jsx)("button",{id:"closeError",onClick:function(){return window.location.reload(!0)},children:"X"}),Object(j.jsx)("h2",{children:" Error "}),Object(j.jsx)("button",{children:"X"})]}),Object(j.jsx)("span",{id:"errorMessage",children:JSON.stringify(e.error)})]})})},m={ADD_MODE:"add_mode",DEFAULT_MODE:"default_mode",EDIT_MODE:"edit_mode",LOADING_MODE:"loading_mode"},v={ALL:"all",UNCOMPLETED:"uncompleted"};var f=function(e){var t=Object(a.useState)(m.LOADING_MODE),n=Object(r.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(v.ALL),d=Object(r.a)(o,2),s=d[0],l=d[1];return Object(a.useEffect)((function(){e.loading?c(m.LOADING_MODE):c(m.DEFAULT_MODE)}),[e.loading]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(x,{error:e.error}),Object(j.jsx)(k,{appMode:i,setAppMode:c,onItemAdded:e.onTaskAdded}),Object(j.jsx)(b,{appMode:i,setAppMode:c,data:e.data,onCancelEdits:e.onCancelEdits,sortParameter:e.sortParameter,setSortParameter:e.setSortParameter}),Object(j.jsx)(O,{data:e.data,appMode:i,tasksShowing:s,onTaskChanged:e.onTaskChanged,onTasksDeleted:e.onTasksDeleted}),Object(j.jsx)(h,{data:e.data,appMode:i,tasksShowing:s,setTasksShowing:l,onTasksDeleted:e.onTasksDeleted})]})},D=n(44),E=n(40),g=n(45);E.a.initializeApp({apiKey:"AIzaSyDbDnRMAuOjcmsEB2iwcbt2_w6SPX-EAQo",authDomain:"cs124lab3.firebaseapp.com",projectId:"cs124lab3",storageBucket:"cs124lab3.appspot.com",messagingSenderId:"191143519167",appId:"1:191143519167:web:f33464f0d0ede5b538370a",measurementId:"G-B8CQHTFNQE"});var M=E.a.firestore(),C="tasks";var T=function(){var e=Object(a.useState)("priorityLevel desc"),t=Object(r.a)(e,2),n=t[0],i=t[1],c=M.collection(C).orderBy(n.split(" ")[0],n.split(" ")[1]),o=Object(g.a)(c),l=Object(r.a)(o,3),u=l[0],b=l[1],p=l[2],O=(null===u||void 0===u?void 0:u.docs.map((function(e){return e.data()})))||[];function h(e){var t,n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;M.collection(C).doc(a).delete()}}catch(i){n.e(i)}finally{n.f()}}return Object(j.jsx)(f,{data:O,loading:b,error:p,onTaskAdded:function(e,t){var n=Object(D.a)();M.collection(C).doc(n).set({id:n,taskName:e,priorityLevel:t,isChecked:!1,created:E.a.database.ServerValue.TIMESTAMP})},onTaskChanged:function(e,t,n){M.collection(C).doc(e).update(Object(s.a)({},t,n))},onTasksDeleted:h,onCancelEdits:function(e){if(e){h(O.map((function(e){return e.id})));var t,n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;M.collection(C).doc(a.id).set(a)}}catch(i){n.e(i)}finally{n.f()}}},sortParameter:n,setSortParameter:i})};o.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(T,{initialData:[{id:1,taskName:"Buy eggs",isChecked:!1},{id:2,taskName:"Buy milk",isChecked:!0},{id:3,taskName:"Walk dog",isChecked:!1},{id:4,taskName:"Get haircut",isChecked:!0}]})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.dc23bc92.chunk.js.map